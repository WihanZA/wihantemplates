
# wihantemplates

<!-- badges: start -->

[![Lifecycle:
experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
<!-- badges: end -->

`wihantemplates` is an R package comprising–hopefully one day–a suite of
templates for the creation of **R Markdown** documents, and in turn,
PDFs which I have come to use on a regular basis. The package is still
in its experimental stage, so please be patient while I work out the
kinks. The best way to contribute to its development and address the
problems which will inevitably arise is by logging a new issue
[here](https://github.com/WihanZA/wihantemplates/issues).

## Getting Started

You can install the development version of `wihantemplates` from Github
via the [`remotes`](https://github.com/r-lib/remotes#readme) package.

``` r
# install.packages("remotes")
remotes::install_github("WihanZA/wihantemplates")
library(wihantemplates)
```

Ensure that you have the essential R packages installed and loaded.
Since all templates rely on [TinyTeX](https://yihui.org/tinytex/)’s
custom LaTeX distribution, you must have both the `tinytex` package and
distribution installed on your machine. The
[`rmarkdown`](https://rmarkdown.rstudio.com/lesson-1.html) package is
also included here for good measure.

``` r
if (!requireNamespace("tinytex", quietly = TRUE)) {
  install.packages("tinytex")
}
if (!requireNamespace("rmarkdown", quietly = TRUE)) {
  install.packages("rmarkdown")
}

library(tinytex)
library(rmarkdown)

if (!tinytex::is_tinytex() || is.null(tinytex::tinytex_root())) {
  tinytex::install_tinytex()
}
```

To ensure that all necessary LaTeX packages and dependencies are
available, especially those not included in the TinyTeX distribution by
default, you can use `tinytex::parse_install()`. This reads the log file
from a failed compilation, `dissertation.log`, identifies the missing
packages and styles, and installs them.

``` r
tinytex::parse_install("dissertation.log")
```

Once the package has been installed, go to
`File > New File > R Markdown > From Template` in RStudio to select your
desired template. My templates are those denoted with `{wihantemplates}`
alongside templates’ names. For now, the package includes only the
`su_dissertation` template. Choose a name and location for the new
directory which contains the template, select `OK`, and you’ll be up and
running.

## `su_dissertation`

### Stellenbosch University Dissertation Template

All the necessary materials for doctoral and master’s students using R
Markdown to produce dissertations and theses conforming to the
requirements of Stellenbosch University. The template heavily relies on
the excellent suite of LaTeX packages,
[`stellenbosch-2`](https://ctan.org/pkg/stellenbosch-2), created and
maintained by [Daniel Els](mailto:dnjels@sun.ac.za). You can find a
complete example [here](examples/su_dissertation.pdf).

[<img src="thumbnails/su_dissertation-1-2-3-4.png" style="width: 100.0%" />](thumbnails/su_dissertation-1-2-3-4.png)

#### Template Directory

``` latex
[chosen-name]
├── cache
├── code
├── figures
├── matter
│   ├── abstract.Rmd
│   ├── acknowledgements.Rmd
│   ├── appendix.Rmd
│   ├── mybib.bib
│   └── nomenclature.Rmd
├── styles
│   ├── defaults.R
│   └── template.tex
├── [chosen-name].Rmd
```

- **`[chosen-name].Rmd`**: Your starting point and main interface for
  creating your dissertation. Generate your dissertation in PDF by
  clicking the `Knit` button or `Ctrl+Shift+K`.

- **`styles/template.tex`**: The backend of the template in LaTeX,
  extensively adapted from the `stb-thesis` LaTeX class. Novices should
  avoid editing this file unless confident in their TeX abilities.

- **`styles/defaults.R`**: Contains R code establishing the default
  settings for number printing, table output, and `ggplot` theme
  settings.

- **`cache`** and **`figures`**: Automatically created during the
  knitting process. The `cache` folder stores the cache for the R
  chunks, speeding up successive knitting, while the `figures` folder
  stores the figures generated by the R chunks. The paths for `cache`
  and `figures` are set in the `setup` code chunk in
  `[chosen-name].Rmd`.

- **`matter`**: Contains files called into the main `.Rmd` file,
  including `abstract.Rmd`, `acknowledgements.Rmd`, and
  `nomenclature.Rmd`. Although these are `.Rmd` files, they primarily
  consist of LaTeX code, so users should be aware of this when editing.

- **`matter/mybib.bib`**: The BibTeX file containing bibliography
  entries referenced in the main `.Rmd` file. I recommend using
  [Zotero](https://www.zotero.org/) to automatically export collections
  of bibliography entries to `matter/mybib.bib`.[^1]

[<img src="thumbnails/su_dissertation-5-6-8-9.png" style="width: 100.0%" />](thumbnails/su_dissertation-5-6-8-9.png)

#### YAML Fields

``` yaml
---
output: 
  pdf_document:
    template: styles/template.tex
    keep_tex: TRUE
    latex_engine: xelatex
    citation_package: natbib
    pandoc_args: --top-level-division=chapter
thesistype: PhD
author: Johnny Elvis Bravo
authorshort: J.\ E.\ Bravo
title: My Dissertation
titel: My Proefskrif
degree: Doctor of Philosophy in Economics
graad: Doktor in die Wysbegeerte in Ekonomie
degreeshort: PhD (Economics)
graadshort: PhD (Ekonomie)
department: Department of Economics
departement: Departement van Ekonomie
faculty: Faculty of Economic and Management Sciences
fakulteit: Fakulteit Ekonomiese en Bestuurswetenskappe
supervisor: Prof.\ F.\ Flintstone
# cosupervisor: Prof.\ G.\ Jetson
year: 2025
month: 04
sponsor: The financial assistance of the National Research Foundation (NRF) towards this research is hereby acknowledged. Opinions expressed and conclusions arrived at, are those of the author and are not necessarily to be attributed to the NRF.
abstract: matter/abstract.Rmd
acknowledgements: matter/acknowledgements.Rmd
nomenclature: matter/nomenclature.Rmd
bibliography: matter/mybib.bib
colorlinks: TRUE
---
```

[<img src="thumbnails/su_dissertation-10-19-21-25.png" style="width: 100.0%" />](thumbnails/su_dissertation-10-19-21-25.png)

#### Spacing

Given the particular setup of the template’s document class and
packages, the following LaTeX parameters produce skips, indents and
separations of the sizes presented in the table below. The relevant
parts of the template’s setup is as follows:

``` latex
\documentclass[12pt,...]{stb-thesis}
\usepackage[a4paper, left=1in, right=1in, top=1in, bottom=1.25in]{geometry} \usepackage{setspace}
\usepackage[skip,parfill]{parskip} 
\setstretch{1.1}
```

*Point sizes of selected* LaTeX *parameters and units given the
template’s default settings.*

| Parameter       | `\normalfont (Body)`          | `\chapter (#)` | `\section (##)` | `\subsection (###)` |
|:----------------|:------------------------------|:---------------|:----------------|:--------------------|
| `1em`           | 12pt                          | 24.88pt        | 17.28pt         | 14.4pt              |
| `1ex`           | 6.43pt                        | 13.34pt        | 9.26pt          | 7.72pt              |
| `\baselineskip` | 15.95pt                       |                |                 |                     |
| `\bigskip`      | 12.0pt plus 4.0pt minus 4.0pt |                |                 |                     |
| `\topskip`      | 12.0pt                        |                |                 |                     |
| `\parskip`      | 7.25pt plus 2.0pt             |                |                 |                     |
| `\medskip`      | 6.0pt plus 2.0pt minus 2.0pt  |                |                 |                     |
| `\smallskip`    | 3.0pt plus 1.0pt minus 1.0pt  |                |                 |                     |
| `\lineskip`     | 1.0pt                         |                |                 |                     |
| `\parindent`    | 0.0pt                         |                |                 |                     |
| `\partopsep`    | 0.0pt                         |                |                 |                     |

[^1]: See **[Better
    BibTeX](https://retorque.re/zotero-better-bibtex/)**, **[Citations
    in R Markdown’s Visual
    Mode](https://rstudio.github.io/visual-markdown-editing/citations.html)**,
    and **[ZotFile](https://zotfile.com/)** for additional tools making
    citation and reference management easier.
